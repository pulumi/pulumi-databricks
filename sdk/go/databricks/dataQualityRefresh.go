// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package databricks

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-databricks/sdk/go/databricks/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// [![Public Beta](https://img.shields.io/badge/Release_Stage-Public_Beta-orange)](https://docs.databricks.com/aws/en/release-notes/release-types)
//
// This resource allows you to refresh the data quality monitoring checks on Unity Catalog tables.
//
// You must either:
// 1. be an owner of the table's parent catalog, have **USE_SCHEMA** on the table's parent schema, and have **SELECT** access on the table
// 2. have **USE_CATALOG** on the table's parent catalog, be an owner of the table's parent schema, and have **SELECT** access on the table.
// 3. have the following permissions:
//   - **USE_CATALOG** on the table's parent catalog
//   - **USE_SCHEMA** on the table's parent schema
//   - be an owner of the table.
//
// > **Note** This resource can only be used with a workspace-level provider!
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-databricks/sdk/go/databricks"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			sandbox, err := databricks.NewCatalog(ctx, "sandbox", &databricks.CatalogArgs{
//				Name:    pulumi.String("sandbox"),
//				Comment: pulumi.String("this catalog is managed by terraform"),
//				Properties: pulumi.StringMap{
//					"purpose": pulumi.String("testing"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			myTestSchema, err := databricks.NewSchema(ctx, "myTestSchema", &databricks.SchemaArgs{
//				CatalogName: sandbox.ID(),
//				Name:        pulumi.String("myTestSchema"),
//				Comment:     pulumi.String("this database is managed by terraform"),
//				Properties: pulumi.StringMap{
//					"kind": pulumi.String("various"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			myTestTable, err := databricks.NewSqlTable(ctx, "myTestTable", &databricks.SqlTableArgs{
//				CatalogName:      pulumi.String("main"),
//				SchemaName:       myTestSchema.Name,
//				Name:             pulumi.String("bar"),
//				TableType:        pulumi.String("MANAGED"),
//				DataSourceFormat: pulumi.String("DELTA"),
//				Columns: databricks.SqlTableColumnArray{
//					&databricks.SqlTableColumnArgs{
//						Name: pulumi.String("timestamp"),
//						Type: pulumi.String("int"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = databricks.NewDataQualityMonitor(ctx, "this", &databricks.DataQualityMonitorArgs{
//				ObjectType: pulumi.String("table"),
//				ObjectId:   myTestTable.ID(),
//				DataProfilingConfig: &databricks.DataQualityMonitorDataProfilingConfigArgs{
//					OutputSchema: myTestSchema.SchemaId,
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = databricks.NewDataQualityRefresh(ctx, "this", &databricks.DataQualityRefreshArgs{
//				ObjectType: pulumi.String("table"),
//				ObjectId:   myTestTable.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// As of Pulumi v1.5, resources can be imported through configuration.
//
// hcl
//
// import {
//
//	id = "object_type,object_id,refresh_id"
//
//	to = databricks_data_quality_refresh.this
//
// }
//
// If you are using an older version of Pulumi, import the resource using the `pulumi import` command as follows:
//
// ```sh
// $ pulumi import databricks:index/dataQualityRefresh:DataQualityRefresh this "object_type,object_id,refresh_id"
// ```
type DataQualityRefresh struct {
	pulumi.CustomResourceState

	// (integer) - Time when the refresh ended (milliseconds since 1/1/1970 UTC)
	EndTimeMs pulumi.IntOutput `pulumi:"endTimeMs"`
	// (string) - An optional message to give insight into the current state of the refresh (e.g. FAILURE messages)
	Message pulumi.StringOutput `pulumi:"message"`
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId pulumi.StringOutput `pulumi:"objectId"`
	// The type of the monitored object. Can be one of the following: `schema`or `table`
	ObjectType pulumi.StringOutput `pulumi:"objectType"`
	// (integer) - Unique id of the refresh operation
	RefreshId pulumi.IntOutput `pulumi:"refreshId"`
	// (integer) - Time when the refresh started (milliseconds since 1/1/1970 UTC)
	StartTimeMs pulumi.IntOutput `pulumi:"startTimeMs"`
	// (string) - The current state of the refresh. Possible values are: `MONITOR_REFRESH_STATE_CANCELED`, `MONITOR_REFRESH_STATE_FAILED`, `MONITOR_REFRESH_STATE_PENDING`, `MONITOR_REFRESH_STATE_RUNNING`, `MONITOR_REFRESH_STATE_SUCCESS`, `MONITOR_REFRESH_STATE_UNKNOWN`
	State pulumi.StringOutput `pulumi:"state"`
	// (string) - What triggered the refresh. Possible values are: `MONITOR_REFRESH_TRIGGER_DATA_CHANGE`, `MONITOR_REFRESH_TRIGGER_MANUAL`, `MONITOR_REFRESH_TRIGGER_SCHEDULE`, `MONITOR_REFRESH_TRIGGER_UNKNOWN`
	Trigger pulumi.StringOutput `pulumi:"trigger"`
}

// NewDataQualityRefresh registers a new resource with the given unique name, arguments, and options.
func NewDataQualityRefresh(ctx *pulumi.Context,
	name string, args *DataQualityRefreshArgs, opts ...pulumi.ResourceOption) (*DataQualityRefresh, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ObjectId == nil {
		return nil, errors.New("invalid value for required argument 'ObjectId'")
	}
	if args.ObjectType == nil {
		return nil, errors.New("invalid value for required argument 'ObjectType'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DataQualityRefresh
	err := ctx.RegisterResource("databricks:index/dataQualityRefresh:DataQualityRefresh", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDataQualityRefresh gets an existing DataQualityRefresh resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDataQualityRefresh(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DataQualityRefreshState, opts ...pulumi.ResourceOption) (*DataQualityRefresh, error) {
	var resource DataQualityRefresh
	err := ctx.ReadResource("databricks:index/dataQualityRefresh:DataQualityRefresh", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DataQualityRefresh resources.
type dataQualityRefreshState struct {
	// (integer) - Time when the refresh ended (milliseconds since 1/1/1970 UTC)
	EndTimeMs *int `pulumi:"endTimeMs"`
	// (string) - An optional message to give insight into the current state of the refresh (e.g. FAILURE messages)
	Message *string `pulumi:"message"`
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId *string `pulumi:"objectId"`
	// The type of the monitored object. Can be one of the following: `schema`or `table`
	ObjectType *string `pulumi:"objectType"`
	// (integer) - Unique id of the refresh operation
	RefreshId *int `pulumi:"refreshId"`
	// (integer) - Time when the refresh started (milliseconds since 1/1/1970 UTC)
	StartTimeMs *int `pulumi:"startTimeMs"`
	// (string) - The current state of the refresh. Possible values are: `MONITOR_REFRESH_STATE_CANCELED`, `MONITOR_REFRESH_STATE_FAILED`, `MONITOR_REFRESH_STATE_PENDING`, `MONITOR_REFRESH_STATE_RUNNING`, `MONITOR_REFRESH_STATE_SUCCESS`, `MONITOR_REFRESH_STATE_UNKNOWN`
	State *string `pulumi:"state"`
	// (string) - What triggered the refresh. Possible values are: `MONITOR_REFRESH_TRIGGER_DATA_CHANGE`, `MONITOR_REFRESH_TRIGGER_MANUAL`, `MONITOR_REFRESH_TRIGGER_SCHEDULE`, `MONITOR_REFRESH_TRIGGER_UNKNOWN`
	Trigger *string `pulumi:"trigger"`
}

type DataQualityRefreshState struct {
	// (integer) - Time when the refresh ended (milliseconds since 1/1/1970 UTC)
	EndTimeMs pulumi.IntPtrInput
	// (string) - An optional message to give insight into the current state of the refresh (e.g. FAILURE messages)
	Message pulumi.StringPtrInput
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId pulumi.StringPtrInput
	// The type of the monitored object. Can be one of the following: `schema`or `table`
	ObjectType pulumi.StringPtrInput
	// (integer) - Unique id of the refresh operation
	RefreshId pulumi.IntPtrInput
	// (integer) - Time when the refresh started (milliseconds since 1/1/1970 UTC)
	StartTimeMs pulumi.IntPtrInput
	// (string) - The current state of the refresh. Possible values are: `MONITOR_REFRESH_STATE_CANCELED`, `MONITOR_REFRESH_STATE_FAILED`, `MONITOR_REFRESH_STATE_PENDING`, `MONITOR_REFRESH_STATE_RUNNING`, `MONITOR_REFRESH_STATE_SUCCESS`, `MONITOR_REFRESH_STATE_UNKNOWN`
	State pulumi.StringPtrInput
	// (string) - What triggered the refresh. Possible values are: `MONITOR_REFRESH_TRIGGER_DATA_CHANGE`, `MONITOR_REFRESH_TRIGGER_MANUAL`, `MONITOR_REFRESH_TRIGGER_SCHEDULE`, `MONITOR_REFRESH_TRIGGER_UNKNOWN`
	Trigger pulumi.StringPtrInput
}

func (DataQualityRefreshState) ElementType() reflect.Type {
	return reflect.TypeOf((*dataQualityRefreshState)(nil)).Elem()
}

type dataQualityRefreshArgs struct {
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId string `pulumi:"objectId"`
	// The type of the monitored object. Can be one of the following: `schema`or `table`
	ObjectType string `pulumi:"objectType"`
}

// The set of arguments for constructing a DataQualityRefresh resource.
type DataQualityRefreshArgs struct {
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId pulumi.StringInput
	// The type of the monitored object. Can be one of the following: `schema`or `table`
	ObjectType pulumi.StringInput
}

func (DataQualityRefreshArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*dataQualityRefreshArgs)(nil)).Elem()
}

type DataQualityRefreshInput interface {
	pulumi.Input

	ToDataQualityRefreshOutput() DataQualityRefreshOutput
	ToDataQualityRefreshOutputWithContext(ctx context.Context) DataQualityRefreshOutput
}

func (*DataQualityRefresh) ElementType() reflect.Type {
	return reflect.TypeOf((**DataQualityRefresh)(nil)).Elem()
}

func (i *DataQualityRefresh) ToDataQualityRefreshOutput() DataQualityRefreshOutput {
	return i.ToDataQualityRefreshOutputWithContext(context.Background())
}

func (i *DataQualityRefresh) ToDataQualityRefreshOutputWithContext(ctx context.Context) DataQualityRefreshOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DataQualityRefreshOutput)
}

// DataQualityRefreshArrayInput is an input type that accepts DataQualityRefreshArray and DataQualityRefreshArrayOutput values.
// You can construct a concrete instance of `DataQualityRefreshArrayInput` via:
//
//	DataQualityRefreshArray{ DataQualityRefreshArgs{...} }
type DataQualityRefreshArrayInput interface {
	pulumi.Input

	ToDataQualityRefreshArrayOutput() DataQualityRefreshArrayOutput
	ToDataQualityRefreshArrayOutputWithContext(context.Context) DataQualityRefreshArrayOutput
}

type DataQualityRefreshArray []DataQualityRefreshInput

func (DataQualityRefreshArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DataQualityRefresh)(nil)).Elem()
}

func (i DataQualityRefreshArray) ToDataQualityRefreshArrayOutput() DataQualityRefreshArrayOutput {
	return i.ToDataQualityRefreshArrayOutputWithContext(context.Background())
}

func (i DataQualityRefreshArray) ToDataQualityRefreshArrayOutputWithContext(ctx context.Context) DataQualityRefreshArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DataQualityRefreshArrayOutput)
}

// DataQualityRefreshMapInput is an input type that accepts DataQualityRefreshMap and DataQualityRefreshMapOutput values.
// You can construct a concrete instance of `DataQualityRefreshMapInput` via:
//
//	DataQualityRefreshMap{ "key": DataQualityRefreshArgs{...} }
type DataQualityRefreshMapInput interface {
	pulumi.Input

	ToDataQualityRefreshMapOutput() DataQualityRefreshMapOutput
	ToDataQualityRefreshMapOutputWithContext(context.Context) DataQualityRefreshMapOutput
}

type DataQualityRefreshMap map[string]DataQualityRefreshInput

func (DataQualityRefreshMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DataQualityRefresh)(nil)).Elem()
}

func (i DataQualityRefreshMap) ToDataQualityRefreshMapOutput() DataQualityRefreshMapOutput {
	return i.ToDataQualityRefreshMapOutputWithContext(context.Background())
}

func (i DataQualityRefreshMap) ToDataQualityRefreshMapOutputWithContext(ctx context.Context) DataQualityRefreshMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DataQualityRefreshMapOutput)
}

type DataQualityRefreshOutput struct{ *pulumi.OutputState }

func (DataQualityRefreshOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DataQualityRefresh)(nil)).Elem()
}

func (o DataQualityRefreshOutput) ToDataQualityRefreshOutput() DataQualityRefreshOutput {
	return o
}

func (o DataQualityRefreshOutput) ToDataQualityRefreshOutputWithContext(ctx context.Context) DataQualityRefreshOutput {
	return o
}

// (integer) - Time when the refresh ended (milliseconds since 1/1/1970 UTC)
func (o DataQualityRefreshOutput) EndTimeMs() pulumi.IntOutput {
	return o.ApplyT(func(v *DataQualityRefresh) pulumi.IntOutput { return v.EndTimeMs }).(pulumi.IntOutput)
}

// (string) - An optional message to give insight into the current state of the refresh (e.g. FAILURE messages)
func (o DataQualityRefreshOutput) Message() pulumi.StringOutput {
	return o.ApplyT(func(v *DataQualityRefresh) pulumi.StringOutput { return v.Message }).(pulumi.StringOutput)
}

// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
//
// Find the `schemaId` from either:
// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
//
// Find the `tableId` from either:
// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
func (o DataQualityRefreshOutput) ObjectId() pulumi.StringOutput {
	return o.ApplyT(func(v *DataQualityRefresh) pulumi.StringOutput { return v.ObjectId }).(pulumi.StringOutput)
}

// The type of the monitored object. Can be one of the following: `schema`or `table`
func (o DataQualityRefreshOutput) ObjectType() pulumi.StringOutput {
	return o.ApplyT(func(v *DataQualityRefresh) pulumi.StringOutput { return v.ObjectType }).(pulumi.StringOutput)
}

// (integer) - Unique id of the refresh operation
func (o DataQualityRefreshOutput) RefreshId() pulumi.IntOutput {
	return o.ApplyT(func(v *DataQualityRefresh) pulumi.IntOutput { return v.RefreshId }).(pulumi.IntOutput)
}

// (integer) - Time when the refresh started (milliseconds since 1/1/1970 UTC)
func (o DataQualityRefreshOutput) StartTimeMs() pulumi.IntOutput {
	return o.ApplyT(func(v *DataQualityRefresh) pulumi.IntOutput { return v.StartTimeMs }).(pulumi.IntOutput)
}

// (string) - The current state of the refresh. Possible values are: `MONITOR_REFRESH_STATE_CANCELED`, `MONITOR_REFRESH_STATE_FAILED`, `MONITOR_REFRESH_STATE_PENDING`, `MONITOR_REFRESH_STATE_RUNNING`, `MONITOR_REFRESH_STATE_SUCCESS`, `MONITOR_REFRESH_STATE_UNKNOWN`
func (o DataQualityRefreshOutput) State() pulumi.StringOutput {
	return o.ApplyT(func(v *DataQualityRefresh) pulumi.StringOutput { return v.State }).(pulumi.StringOutput)
}

// (string) - What triggered the refresh. Possible values are: `MONITOR_REFRESH_TRIGGER_DATA_CHANGE`, `MONITOR_REFRESH_TRIGGER_MANUAL`, `MONITOR_REFRESH_TRIGGER_SCHEDULE`, `MONITOR_REFRESH_TRIGGER_UNKNOWN`
func (o DataQualityRefreshOutput) Trigger() pulumi.StringOutput {
	return o.ApplyT(func(v *DataQualityRefresh) pulumi.StringOutput { return v.Trigger }).(pulumi.StringOutput)
}

type DataQualityRefreshArrayOutput struct{ *pulumi.OutputState }

func (DataQualityRefreshArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DataQualityRefresh)(nil)).Elem()
}

func (o DataQualityRefreshArrayOutput) ToDataQualityRefreshArrayOutput() DataQualityRefreshArrayOutput {
	return o
}

func (o DataQualityRefreshArrayOutput) ToDataQualityRefreshArrayOutputWithContext(ctx context.Context) DataQualityRefreshArrayOutput {
	return o
}

func (o DataQualityRefreshArrayOutput) Index(i pulumi.IntInput) DataQualityRefreshOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DataQualityRefresh {
		return vs[0].([]*DataQualityRefresh)[vs[1].(int)]
	}).(DataQualityRefreshOutput)
}

type DataQualityRefreshMapOutput struct{ *pulumi.OutputState }

func (DataQualityRefreshMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DataQualityRefresh)(nil)).Elem()
}

func (o DataQualityRefreshMapOutput) ToDataQualityRefreshMapOutput() DataQualityRefreshMapOutput {
	return o
}

func (o DataQualityRefreshMapOutput) ToDataQualityRefreshMapOutputWithContext(ctx context.Context) DataQualityRefreshMapOutput {
	return o
}

func (o DataQualityRefreshMapOutput) MapIndex(k pulumi.StringInput) DataQualityRefreshOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DataQualityRefresh {
		return vs[0].(map[string]*DataQualityRefresh)[vs[1].(string)]
	}).(DataQualityRefreshOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DataQualityRefreshInput)(nil)).Elem(), &DataQualityRefresh{})
	pulumi.RegisterInputType(reflect.TypeOf((*DataQualityRefreshArrayInput)(nil)).Elem(), DataQualityRefreshArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DataQualityRefreshMapInput)(nil)).Elem(), DataQualityRefreshMap{})
	pulumi.RegisterOutputType(DataQualityRefreshOutput{})
	pulumi.RegisterOutputType(DataQualityRefreshArrayOutput{})
	pulumi.RegisterOutputType(DataQualityRefreshMapOutput{})
}
