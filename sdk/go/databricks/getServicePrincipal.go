// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package databricks

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-databricks/sdk/go/databricks/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Retrieves information about databricks_service_principal.
//
// > This data source can be used with an account or workspace-level provider.
//
// ## Example Usage
//
// # Adding service principal `11111111-2222-3333-4444-555666777888` to administrative group
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-databricks/sdk/go/databricks"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			admins, err := databricks.LookupGroup(ctx, &databricks.LookupGroupArgs{
//				DisplayName: "admins",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			spn, err := databricks.LookupServicePrincipal(ctx, &databricks.LookupServicePrincipalArgs{
//				ApplicationId: pulumi.StringRef("11111111-2222-3333-4444-555666777888"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = databricks.NewGroupMember(ctx, "my_member_a", &databricks.GroupMemberArgs{
//				GroupId:  pulumi.String(admins.Id),
//				MemberId: pulumi.String(spn.Id),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Related Resources
//
// The following resources are used in the same context:
//
// - End to end workspace management guide.
// - getCurrentUser data to retrieve information about User or databricks_service_principal, that is calling Databricks REST API.
// - Group to manage [Account-level](https://docs.databricks.com/aws/en/admin/users-groups/groups) or [Workspace-level](https://docs.databricks.com/aws/en/admin/users-groups/workspace-local-groups) groups.
// - Group data to retrieve information about Group members, entitlements and instance profiles.
// - GroupInstanceProfile to attach InstanceProfile (AWS) to databricks_group.
// - GroupMember to attach users and groups as group members.
// - Permissions to manage [access control](https://docs.databricks.com/security/access-control/index.html) in Databricks workspace.
// - databricksService principal to manage service principals
func LookupServicePrincipal(ctx *pulumi.Context, args *LookupServicePrincipalArgs, opts ...pulumi.InvokeOption) (*LookupServicePrincipalResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupServicePrincipalResult
	err := ctx.Invoke("databricks:index/getServicePrincipal:getServicePrincipal", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getServicePrincipal.
type LookupServicePrincipalArgs struct {
	// identifier for use in databricks_access_control_rule_set, e.g. `servicePrincipals/00000000-0000-0000-0000-000000000000`.
	AclPrincipalId *string `pulumi:"aclPrincipalId"`
	// Whether service principal is active or not.
	Active *bool `pulumi:"active"`
	// Application ID of the service principal. The service principal must exist before this resource can be retrieved.
	ApplicationId *string `pulumi:"applicationId"`
	// Exact display name of the service principal. The service principal must exist before this resource can be retrieved.  In case if there are several service principals with the same name, an error is thrown.
	DisplayName *string `pulumi:"displayName"`
	// ID of the service principal in an external identity provider.
	ExternalId *string `pulumi:"externalId"`
	// Home folder of the service principal, e.g. `/Users/11111111-2222-3333-4444-555666777888`.
	Home *string `pulumi:"home"`
	// The id of the service principal (SCIM ID).
	Id *string `pulumi:"id"`
	// Configure the provider for management through account provider. This block consists of the following fields:
	ProviderConfig *GetServicePrincipalProviderConfig `pulumi:"providerConfig"`
	// Repos location of the service principal, e.g. `/Repos/11111111-2222-3333-4444-555666777888`.
	Repos *string `pulumi:"repos"`
	// Unique SCIM ID for a service principal in the Databricks workspace. The service principal must exist before this resource can be retrieved.
	ScimId *string `pulumi:"scimId"`
	SpId   *string `pulumi:"spId"`
}

// A collection of values returned by getServicePrincipal.
type LookupServicePrincipalResult struct {
	// identifier for use in databricks_access_control_rule_set, e.g. `servicePrincipals/00000000-0000-0000-0000-000000000000`.
	AclPrincipalId string `pulumi:"aclPrincipalId"`
	// Whether service principal is active or not.
	Active bool `pulumi:"active"`
	// Application ID of the service principal.
	ApplicationId string `pulumi:"applicationId"`
	// Display name of the service principal, e.g. `Foo SPN`.
	DisplayName string `pulumi:"displayName"`
	// ID of the service principal in an external identity provider.
	ExternalId string `pulumi:"externalId"`
	// Home folder of the service principal, e.g. `/Users/11111111-2222-3333-4444-555666777888`.
	Home string `pulumi:"home"`
	// The id of the service principal (SCIM ID).
	Id             string                             `pulumi:"id"`
	ProviderConfig *GetServicePrincipalProviderConfig `pulumi:"providerConfig"`
	// Repos location of the service principal, e.g. `/Repos/11111111-2222-3333-4444-555666777888`.
	Repos string `pulumi:"repos"`
	// same as `id`.
	ScimId string `pulumi:"scimId"`
	SpId   string `pulumi:"spId"`
}

func LookupServicePrincipalOutput(ctx *pulumi.Context, args LookupServicePrincipalOutputArgs, opts ...pulumi.InvokeOption) LookupServicePrincipalResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (LookupServicePrincipalResultOutput, error) {
			args := v.(LookupServicePrincipalArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("databricks:index/getServicePrincipal:getServicePrincipal", args, LookupServicePrincipalResultOutput{}, options).(LookupServicePrincipalResultOutput), nil
		}).(LookupServicePrincipalResultOutput)
}

// A collection of arguments for invoking getServicePrincipal.
type LookupServicePrincipalOutputArgs struct {
	// identifier for use in databricks_access_control_rule_set, e.g. `servicePrincipals/00000000-0000-0000-0000-000000000000`.
	AclPrincipalId pulumi.StringPtrInput `pulumi:"aclPrincipalId"`
	// Whether service principal is active or not.
	Active pulumi.BoolPtrInput `pulumi:"active"`
	// Application ID of the service principal. The service principal must exist before this resource can be retrieved.
	ApplicationId pulumi.StringPtrInput `pulumi:"applicationId"`
	// Exact display name of the service principal. The service principal must exist before this resource can be retrieved.  In case if there are several service principals with the same name, an error is thrown.
	DisplayName pulumi.StringPtrInput `pulumi:"displayName"`
	// ID of the service principal in an external identity provider.
	ExternalId pulumi.StringPtrInput `pulumi:"externalId"`
	// Home folder of the service principal, e.g. `/Users/11111111-2222-3333-4444-555666777888`.
	Home pulumi.StringPtrInput `pulumi:"home"`
	// The id of the service principal (SCIM ID).
	Id pulumi.StringPtrInput `pulumi:"id"`
	// Configure the provider for management through account provider. This block consists of the following fields:
	ProviderConfig GetServicePrincipalProviderConfigPtrInput `pulumi:"providerConfig"`
	// Repos location of the service principal, e.g. `/Repos/11111111-2222-3333-4444-555666777888`.
	Repos pulumi.StringPtrInput `pulumi:"repos"`
	// Unique SCIM ID for a service principal in the Databricks workspace. The service principal must exist before this resource can be retrieved.
	ScimId pulumi.StringPtrInput `pulumi:"scimId"`
	SpId   pulumi.StringPtrInput `pulumi:"spId"`
}

func (LookupServicePrincipalOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupServicePrincipalArgs)(nil)).Elem()
}

// A collection of values returned by getServicePrincipal.
type LookupServicePrincipalResultOutput struct{ *pulumi.OutputState }

func (LookupServicePrincipalResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupServicePrincipalResult)(nil)).Elem()
}

func (o LookupServicePrincipalResultOutput) ToLookupServicePrincipalResultOutput() LookupServicePrincipalResultOutput {
	return o
}

func (o LookupServicePrincipalResultOutput) ToLookupServicePrincipalResultOutputWithContext(ctx context.Context) LookupServicePrincipalResultOutput {
	return o
}

// identifier for use in databricks_access_control_rule_set, e.g. `servicePrincipals/00000000-0000-0000-0000-000000000000`.
func (o LookupServicePrincipalResultOutput) AclPrincipalId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.AclPrincipalId }).(pulumi.StringOutput)
}

// Whether service principal is active or not.
func (o LookupServicePrincipalResultOutput) Active() pulumi.BoolOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) bool { return v.Active }).(pulumi.BoolOutput)
}

// Application ID of the service principal.
func (o LookupServicePrincipalResultOutput) ApplicationId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.ApplicationId }).(pulumi.StringOutput)
}

// Display name of the service principal, e.g. `Foo SPN`.
func (o LookupServicePrincipalResultOutput) DisplayName() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.DisplayName }).(pulumi.StringOutput)
}

// ID of the service principal in an external identity provider.
func (o LookupServicePrincipalResultOutput) ExternalId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.ExternalId }).(pulumi.StringOutput)
}

// Home folder of the service principal, e.g. `/Users/11111111-2222-3333-4444-555666777888`.
func (o LookupServicePrincipalResultOutput) Home() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.Home }).(pulumi.StringOutput)
}

// The id of the service principal (SCIM ID).
func (o LookupServicePrincipalResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o LookupServicePrincipalResultOutput) ProviderConfig() GetServicePrincipalProviderConfigPtrOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) *GetServicePrincipalProviderConfig { return v.ProviderConfig }).(GetServicePrincipalProviderConfigPtrOutput)
}

// Repos location of the service principal, e.g. `/Repos/11111111-2222-3333-4444-555666777888`.
func (o LookupServicePrincipalResultOutput) Repos() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.Repos }).(pulumi.StringOutput)
}

// same as `id`.
func (o LookupServicePrincipalResultOutput) ScimId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.ScimId }).(pulumi.StringOutput)
}

func (o LookupServicePrincipalResultOutput) SpId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupServicePrincipalResult) string { return v.SpId }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupServicePrincipalResultOutput{})
}
