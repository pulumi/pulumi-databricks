// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package databricks

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-databricks/sdk/go/databricks/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// The `DisableLegacyDbfsSetting` resource allows you to disable legacy DBFS.
//
// > This resource can only be used with a workspace-level provider!
//
// Disabling legacy DBFS has the following implications:
//
// 1. Access to DBFS root and DBFS mounts is disallowed (as well as the creation of new mounts).
// 2. Disables Databricks Runtime versions prior to 13.3LTS.
//
// When the setting is off, all DBFS functionality is enabled and no restrictions are imposed on Databricks Runtime versions. This setting can take up to 20 minutes to take effect and requires a manual restart of all-purpose compute clusters and SQL warehouses.
//
// Refer to official docs for more details:
//
// - [Azure](https://learn.microsoft.com/azure/databricks/dbfs/disable-dbfs-root-mounts)
// - [AWS](https://docs.databricks.com/aws/dbfs/disable-dbfs-root-mounts)
// - [GCP](https://docs.gcp.databricks.com/dbfs/disable-dbfs-root-mounts)
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-databricks/sdk/go/databricks"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := databricks.NewDisableLegacyDbfsSetting(ctx, "this", &databricks.DisableLegacyDbfsSettingArgs{
//				DisableLegacyDbfs: &databricks.DisableLegacyDbfsSettingDisableLegacyDbfsArgs{
//					Value: pulumi.Bool(true),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type DisableLegacyDbfsSetting struct {
	pulumi.CustomResourceState

	// block with following attributes:
	DisableLegacyDbfs DisableLegacyDbfsSettingDisableLegacyDbfsOutput `pulumi:"disableLegacyDbfs"`
	Etag              pulumi.StringOutput                             `pulumi:"etag"`
	// Configure the provider for management through account provider. This block consists of the following fields:
	ProviderConfig DisableLegacyDbfsSettingProviderConfigPtrOutput `pulumi:"providerConfig"`
	SettingName    pulumi.StringOutput                             `pulumi:"settingName"`
}

// NewDisableLegacyDbfsSetting registers a new resource with the given unique name, arguments, and options.
func NewDisableLegacyDbfsSetting(ctx *pulumi.Context,
	name string, args *DisableLegacyDbfsSettingArgs, opts ...pulumi.ResourceOption) (*DisableLegacyDbfsSetting, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DisableLegacyDbfs == nil {
		return nil, errors.New("invalid value for required argument 'DisableLegacyDbfs'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DisableLegacyDbfsSetting
	err := ctx.RegisterResource("databricks:index/disableLegacyDbfsSetting:DisableLegacyDbfsSetting", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDisableLegacyDbfsSetting gets an existing DisableLegacyDbfsSetting resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDisableLegacyDbfsSetting(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DisableLegacyDbfsSettingState, opts ...pulumi.ResourceOption) (*DisableLegacyDbfsSetting, error) {
	var resource DisableLegacyDbfsSetting
	err := ctx.ReadResource("databricks:index/disableLegacyDbfsSetting:DisableLegacyDbfsSetting", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DisableLegacyDbfsSetting resources.
type disableLegacyDbfsSettingState struct {
	// block with following attributes:
	DisableLegacyDbfs *DisableLegacyDbfsSettingDisableLegacyDbfs `pulumi:"disableLegacyDbfs"`
	Etag              *string                                    `pulumi:"etag"`
	// Configure the provider for management through account provider. This block consists of the following fields:
	ProviderConfig *DisableLegacyDbfsSettingProviderConfig `pulumi:"providerConfig"`
	SettingName    *string                                 `pulumi:"settingName"`
}

type DisableLegacyDbfsSettingState struct {
	// block with following attributes:
	DisableLegacyDbfs DisableLegacyDbfsSettingDisableLegacyDbfsPtrInput
	Etag              pulumi.StringPtrInput
	// Configure the provider for management through account provider. This block consists of the following fields:
	ProviderConfig DisableLegacyDbfsSettingProviderConfigPtrInput
	SettingName    pulumi.StringPtrInput
}

func (DisableLegacyDbfsSettingState) ElementType() reflect.Type {
	return reflect.TypeOf((*disableLegacyDbfsSettingState)(nil)).Elem()
}

type disableLegacyDbfsSettingArgs struct {
	// block with following attributes:
	DisableLegacyDbfs DisableLegacyDbfsSettingDisableLegacyDbfs `pulumi:"disableLegacyDbfs"`
	Etag              *string                                   `pulumi:"etag"`
	// Configure the provider for management through account provider. This block consists of the following fields:
	ProviderConfig *DisableLegacyDbfsSettingProviderConfig `pulumi:"providerConfig"`
	SettingName    *string                                 `pulumi:"settingName"`
}

// The set of arguments for constructing a DisableLegacyDbfsSetting resource.
type DisableLegacyDbfsSettingArgs struct {
	// block with following attributes:
	DisableLegacyDbfs DisableLegacyDbfsSettingDisableLegacyDbfsInput
	Etag              pulumi.StringPtrInput
	// Configure the provider for management through account provider. This block consists of the following fields:
	ProviderConfig DisableLegacyDbfsSettingProviderConfigPtrInput
	SettingName    pulumi.StringPtrInput
}

func (DisableLegacyDbfsSettingArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*disableLegacyDbfsSettingArgs)(nil)).Elem()
}

type DisableLegacyDbfsSettingInput interface {
	pulumi.Input

	ToDisableLegacyDbfsSettingOutput() DisableLegacyDbfsSettingOutput
	ToDisableLegacyDbfsSettingOutputWithContext(ctx context.Context) DisableLegacyDbfsSettingOutput
}

func (*DisableLegacyDbfsSetting) ElementType() reflect.Type {
	return reflect.TypeOf((**DisableLegacyDbfsSetting)(nil)).Elem()
}

func (i *DisableLegacyDbfsSetting) ToDisableLegacyDbfsSettingOutput() DisableLegacyDbfsSettingOutput {
	return i.ToDisableLegacyDbfsSettingOutputWithContext(context.Background())
}

func (i *DisableLegacyDbfsSetting) ToDisableLegacyDbfsSettingOutputWithContext(ctx context.Context) DisableLegacyDbfsSettingOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DisableLegacyDbfsSettingOutput)
}

// DisableLegacyDbfsSettingArrayInput is an input type that accepts DisableLegacyDbfsSettingArray and DisableLegacyDbfsSettingArrayOutput values.
// You can construct a concrete instance of `DisableLegacyDbfsSettingArrayInput` via:
//
//	DisableLegacyDbfsSettingArray{ DisableLegacyDbfsSettingArgs{...} }
type DisableLegacyDbfsSettingArrayInput interface {
	pulumi.Input

	ToDisableLegacyDbfsSettingArrayOutput() DisableLegacyDbfsSettingArrayOutput
	ToDisableLegacyDbfsSettingArrayOutputWithContext(context.Context) DisableLegacyDbfsSettingArrayOutput
}

type DisableLegacyDbfsSettingArray []DisableLegacyDbfsSettingInput

func (DisableLegacyDbfsSettingArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DisableLegacyDbfsSetting)(nil)).Elem()
}

func (i DisableLegacyDbfsSettingArray) ToDisableLegacyDbfsSettingArrayOutput() DisableLegacyDbfsSettingArrayOutput {
	return i.ToDisableLegacyDbfsSettingArrayOutputWithContext(context.Background())
}

func (i DisableLegacyDbfsSettingArray) ToDisableLegacyDbfsSettingArrayOutputWithContext(ctx context.Context) DisableLegacyDbfsSettingArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DisableLegacyDbfsSettingArrayOutput)
}

// DisableLegacyDbfsSettingMapInput is an input type that accepts DisableLegacyDbfsSettingMap and DisableLegacyDbfsSettingMapOutput values.
// You can construct a concrete instance of `DisableLegacyDbfsSettingMapInput` via:
//
//	DisableLegacyDbfsSettingMap{ "key": DisableLegacyDbfsSettingArgs{...} }
type DisableLegacyDbfsSettingMapInput interface {
	pulumi.Input

	ToDisableLegacyDbfsSettingMapOutput() DisableLegacyDbfsSettingMapOutput
	ToDisableLegacyDbfsSettingMapOutputWithContext(context.Context) DisableLegacyDbfsSettingMapOutput
}

type DisableLegacyDbfsSettingMap map[string]DisableLegacyDbfsSettingInput

func (DisableLegacyDbfsSettingMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DisableLegacyDbfsSetting)(nil)).Elem()
}

func (i DisableLegacyDbfsSettingMap) ToDisableLegacyDbfsSettingMapOutput() DisableLegacyDbfsSettingMapOutput {
	return i.ToDisableLegacyDbfsSettingMapOutputWithContext(context.Background())
}

func (i DisableLegacyDbfsSettingMap) ToDisableLegacyDbfsSettingMapOutputWithContext(ctx context.Context) DisableLegacyDbfsSettingMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DisableLegacyDbfsSettingMapOutput)
}

type DisableLegacyDbfsSettingOutput struct{ *pulumi.OutputState }

func (DisableLegacyDbfsSettingOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DisableLegacyDbfsSetting)(nil)).Elem()
}

func (o DisableLegacyDbfsSettingOutput) ToDisableLegacyDbfsSettingOutput() DisableLegacyDbfsSettingOutput {
	return o
}

func (o DisableLegacyDbfsSettingOutput) ToDisableLegacyDbfsSettingOutputWithContext(ctx context.Context) DisableLegacyDbfsSettingOutput {
	return o
}

// block with following attributes:
func (o DisableLegacyDbfsSettingOutput) DisableLegacyDbfs() DisableLegacyDbfsSettingDisableLegacyDbfsOutput {
	return o.ApplyT(func(v *DisableLegacyDbfsSetting) DisableLegacyDbfsSettingDisableLegacyDbfsOutput {
		return v.DisableLegacyDbfs
	}).(DisableLegacyDbfsSettingDisableLegacyDbfsOutput)
}

func (o DisableLegacyDbfsSettingOutput) Etag() pulumi.StringOutput {
	return o.ApplyT(func(v *DisableLegacyDbfsSetting) pulumi.StringOutput { return v.Etag }).(pulumi.StringOutput)
}

// Configure the provider for management through account provider. This block consists of the following fields:
func (o DisableLegacyDbfsSettingOutput) ProviderConfig() DisableLegacyDbfsSettingProviderConfigPtrOutput {
	return o.ApplyT(func(v *DisableLegacyDbfsSetting) DisableLegacyDbfsSettingProviderConfigPtrOutput {
		return v.ProviderConfig
	}).(DisableLegacyDbfsSettingProviderConfigPtrOutput)
}

func (o DisableLegacyDbfsSettingOutput) SettingName() pulumi.StringOutput {
	return o.ApplyT(func(v *DisableLegacyDbfsSetting) pulumi.StringOutput { return v.SettingName }).(pulumi.StringOutput)
}

type DisableLegacyDbfsSettingArrayOutput struct{ *pulumi.OutputState }

func (DisableLegacyDbfsSettingArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DisableLegacyDbfsSetting)(nil)).Elem()
}

func (o DisableLegacyDbfsSettingArrayOutput) ToDisableLegacyDbfsSettingArrayOutput() DisableLegacyDbfsSettingArrayOutput {
	return o
}

func (o DisableLegacyDbfsSettingArrayOutput) ToDisableLegacyDbfsSettingArrayOutputWithContext(ctx context.Context) DisableLegacyDbfsSettingArrayOutput {
	return o
}

func (o DisableLegacyDbfsSettingArrayOutput) Index(i pulumi.IntInput) DisableLegacyDbfsSettingOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DisableLegacyDbfsSetting {
		return vs[0].([]*DisableLegacyDbfsSetting)[vs[1].(int)]
	}).(DisableLegacyDbfsSettingOutput)
}

type DisableLegacyDbfsSettingMapOutput struct{ *pulumi.OutputState }

func (DisableLegacyDbfsSettingMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DisableLegacyDbfsSetting)(nil)).Elem()
}

func (o DisableLegacyDbfsSettingMapOutput) ToDisableLegacyDbfsSettingMapOutput() DisableLegacyDbfsSettingMapOutput {
	return o
}

func (o DisableLegacyDbfsSettingMapOutput) ToDisableLegacyDbfsSettingMapOutputWithContext(ctx context.Context) DisableLegacyDbfsSettingMapOutput {
	return o
}

func (o DisableLegacyDbfsSettingMapOutput) MapIndex(k pulumi.StringInput) DisableLegacyDbfsSettingOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DisableLegacyDbfsSetting {
		return vs[0].(map[string]*DisableLegacyDbfsSetting)[vs[1].(string)]
	}).(DisableLegacyDbfsSettingOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DisableLegacyDbfsSettingInput)(nil)).Elem(), &DisableLegacyDbfsSetting{})
	pulumi.RegisterInputType(reflect.TypeOf((*DisableLegacyDbfsSettingArrayInput)(nil)).Elem(), DisableLegacyDbfsSettingArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DisableLegacyDbfsSettingMapInput)(nil)).Elem(), DisableLegacyDbfsSettingMap{})
	pulumi.RegisterOutputType(DisableLegacyDbfsSettingOutput{})
	pulumi.RegisterOutputType(DisableLegacyDbfsSettingArrayOutput{})
	pulumi.RegisterOutputType(DisableLegacyDbfsSettingMapOutput{})
}
