// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package databricks

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-databricks/sdk/go/databricks/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// [![Public Beta](https://img.shields.io/badge/Release_Stage-Public_Beta-orange)](https://docs.databricks.com/aws/en/release-notes/release-types)
//
// This resource allows you to set up data quality monitoring checks for Unity Catalog objects, currently schema and table.
//
// For the `table` `objectType`, you must either:
// 1. be an owner of the table's parent catalog, have **USE_SCHEMA** on the table's parent schema, and have **SELECT** access on the table
// 2. have **USE_CATALOG** on the table's parent catalog, be an owner of the table's parent schema, and have **SELECT** access on the table.
// 3. have the following permissions:
//   - **USE_CATALOG** on the table's parent catalog
//   - **USE_SCHEMA** on the table's parent schema
//   - be an owner of the table.
//
// > **Note** This resource can only be used with a workspace-level provider!
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-databricks/sdk/go/databricks"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			this, err := databricks.NewSchema(ctx, "this", &databricks.SchemaArgs{
//				CatalogName: pulumi.String("my_catalog"),
//				Name:        pulumi.String("my_schema"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = databricks.NewDataQualityMonitor(ctx, "this", &databricks.DataQualityMonitorArgs{
//				ObjectType:             pulumi.String("schema"),
//				ObjectId:               this.SchemaId,
//				AnomalyDetectionConfig: &databricks.DataQualityMonitorAnomalyDetectionConfigArgs{},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// As of Pulumi v1.5, resources can be imported through configuration.
//
// hcl
//
// import {
//
//	id = "object_type,object_id"
//
//	to = databricks_data_quality_monitor.this
//
// }
//
// If you are using an older version of Pulumi, import the resource using the `pulumi import` command as follows:
//
// ```sh
// $ pulumi import databricks:index/dataQualityMonitor:DataQualityMonitor this "object_type,object_id"
// ```
type DataQualityMonitor struct {
	pulumi.CustomResourceState

	// Anomaly Detection Configuration, applicable to `schema` object types
	AnomalyDetectionConfig DataQualityMonitorAnomalyDetectionConfigPtrOutput `pulumi:"anomalyDetectionConfig"`
	// Data Profiling Configuration, applicable to `table` object types. Exactly one `Analysis Configuration`
	// must be present
	DataProfilingConfig DataQualityMonitorDataProfilingConfigPtrOutput `pulumi:"dataProfilingConfig"`
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId pulumi.StringOutput `pulumi:"objectId"`
	// The type of the monitored object. Can be one of the following: `schema` or `table`
	ObjectType pulumi.StringOutput `pulumi:"objectType"`
}

// NewDataQualityMonitor registers a new resource with the given unique name, arguments, and options.
func NewDataQualityMonitor(ctx *pulumi.Context,
	name string, args *DataQualityMonitorArgs, opts ...pulumi.ResourceOption) (*DataQualityMonitor, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ObjectId == nil {
		return nil, errors.New("invalid value for required argument 'ObjectId'")
	}
	if args.ObjectType == nil {
		return nil, errors.New("invalid value for required argument 'ObjectType'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DataQualityMonitor
	err := ctx.RegisterResource("databricks:index/dataQualityMonitor:DataQualityMonitor", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDataQualityMonitor gets an existing DataQualityMonitor resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDataQualityMonitor(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DataQualityMonitorState, opts ...pulumi.ResourceOption) (*DataQualityMonitor, error) {
	var resource DataQualityMonitor
	err := ctx.ReadResource("databricks:index/dataQualityMonitor:DataQualityMonitor", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DataQualityMonitor resources.
type dataQualityMonitorState struct {
	// Anomaly Detection Configuration, applicable to `schema` object types
	AnomalyDetectionConfig *DataQualityMonitorAnomalyDetectionConfig `pulumi:"anomalyDetectionConfig"`
	// Data Profiling Configuration, applicable to `table` object types. Exactly one `Analysis Configuration`
	// must be present
	DataProfilingConfig *DataQualityMonitorDataProfilingConfig `pulumi:"dataProfilingConfig"`
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId *string `pulumi:"objectId"`
	// The type of the monitored object. Can be one of the following: `schema` or `table`
	ObjectType *string `pulumi:"objectType"`
}

type DataQualityMonitorState struct {
	// Anomaly Detection Configuration, applicable to `schema` object types
	AnomalyDetectionConfig DataQualityMonitorAnomalyDetectionConfigPtrInput
	// Data Profiling Configuration, applicable to `table` object types. Exactly one `Analysis Configuration`
	// must be present
	DataProfilingConfig DataQualityMonitorDataProfilingConfigPtrInput
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId pulumi.StringPtrInput
	// The type of the monitored object. Can be one of the following: `schema` or `table`
	ObjectType pulumi.StringPtrInput
}

func (DataQualityMonitorState) ElementType() reflect.Type {
	return reflect.TypeOf((*dataQualityMonitorState)(nil)).Elem()
}

type dataQualityMonitorArgs struct {
	// Anomaly Detection Configuration, applicable to `schema` object types
	AnomalyDetectionConfig *DataQualityMonitorAnomalyDetectionConfig `pulumi:"anomalyDetectionConfig"`
	// Data Profiling Configuration, applicable to `table` object types. Exactly one `Analysis Configuration`
	// must be present
	DataProfilingConfig *DataQualityMonitorDataProfilingConfig `pulumi:"dataProfilingConfig"`
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId string `pulumi:"objectId"`
	// The type of the monitored object. Can be one of the following: `schema` or `table`
	ObjectType string `pulumi:"objectType"`
}

// The set of arguments for constructing a DataQualityMonitor resource.
type DataQualityMonitorArgs struct {
	// Anomaly Detection Configuration, applicable to `schema` object types
	AnomalyDetectionConfig DataQualityMonitorAnomalyDetectionConfigPtrInput
	// Data Profiling Configuration, applicable to `table` object types. Exactly one `Analysis Configuration`
	// must be present
	DataProfilingConfig DataQualityMonitorDataProfilingConfigPtrInput
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId pulumi.StringInput
	// The type of the monitored object. Can be one of the following: `schema` or `table`
	ObjectType pulumi.StringInput
}

func (DataQualityMonitorArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*dataQualityMonitorArgs)(nil)).Elem()
}

type DataQualityMonitorInput interface {
	pulumi.Input

	ToDataQualityMonitorOutput() DataQualityMonitorOutput
	ToDataQualityMonitorOutputWithContext(ctx context.Context) DataQualityMonitorOutput
}

func (*DataQualityMonitor) ElementType() reflect.Type {
	return reflect.TypeOf((**DataQualityMonitor)(nil)).Elem()
}

func (i *DataQualityMonitor) ToDataQualityMonitorOutput() DataQualityMonitorOutput {
	return i.ToDataQualityMonitorOutputWithContext(context.Background())
}

func (i *DataQualityMonitor) ToDataQualityMonitorOutputWithContext(ctx context.Context) DataQualityMonitorOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DataQualityMonitorOutput)
}

// DataQualityMonitorArrayInput is an input type that accepts DataQualityMonitorArray and DataQualityMonitorArrayOutput values.
// You can construct a concrete instance of `DataQualityMonitorArrayInput` via:
//
//	DataQualityMonitorArray{ DataQualityMonitorArgs{...} }
type DataQualityMonitorArrayInput interface {
	pulumi.Input

	ToDataQualityMonitorArrayOutput() DataQualityMonitorArrayOutput
	ToDataQualityMonitorArrayOutputWithContext(context.Context) DataQualityMonitorArrayOutput
}

type DataQualityMonitorArray []DataQualityMonitorInput

func (DataQualityMonitorArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DataQualityMonitor)(nil)).Elem()
}

func (i DataQualityMonitorArray) ToDataQualityMonitorArrayOutput() DataQualityMonitorArrayOutput {
	return i.ToDataQualityMonitorArrayOutputWithContext(context.Background())
}

func (i DataQualityMonitorArray) ToDataQualityMonitorArrayOutputWithContext(ctx context.Context) DataQualityMonitorArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DataQualityMonitorArrayOutput)
}

// DataQualityMonitorMapInput is an input type that accepts DataQualityMonitorMap and DataQualityMonitorMapOutput values.
// You can construct a concrete instance of `DataQualityMonitorMapInput` via:
//
//	DataQualityMonitorMap{ "key": DataQualityMonitorArgs{...} }
type DataQualityMonitorMapInput interface {
	pulumi.Input

	ToDataQualityMonitorMapOutput() DataQualityMonitorMapOutput
	ToDataQualityMonitorMapOutputWithContext(context.Context) DataQualityMonitorMapOutput
}

type DataQualityMonitorMap map[string]DataQualityMonitorInput

func (DataQualityMonitorMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DataQualityMonitor)(nil)).Elem()
}

func (i DataQualityMonitorMap) ToDataQualityMonitorMapOutput() DataQualityMonitorMapOutput {
	return i.ToDataQualityMonitorMapOutputWithContext(context.Background())
}

func (i DataQualityMonitorMap) ToDataQualityMonitorMapOutputWithContext(ctx context.Context) DataQualityMonitorMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DataQualityMonitorMapOutput)
}

type DataQualityMonitorOutput struct{ *pulumi.OutputState }

func (DataQualityMonitorOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DataQualityMonitor)(nil)).Elem()
}

func (o DataQualityMonitorOutput) ToDataQualityMonitorOutput() DataQualityMonitorOutput {
	return o
}

func (o DataQualityMonitorOutput) ToDataQualityMonitorOutputWithContext(ctx context.Context) DataQualityMonitorOutput {
	return o
}

// Anomaly Detection Configuration, applicable to `schema` object types
func (o DataQualityMonitorOutput) AnomalyDetectionConfig() DataQualityMonitorAnomalyDetectionConfigPtrOutput {
	return o.ApplyT(func(v *DataQualityMonitor) DataQualityMonitorAnomalyDetectionConfigPtrOutput {
		return v.AnomalyDetectionConfig
	}).(DataQualityMonitorAnomalyDetectionConfigPtrOutput)
}

// Data Profiling Configuration, applicable to `table` object types. Exactly one `Analysis Configuration`
// must be present
func (o DataQualityMonitorOutput) DataProfilingConfig() DataQualityMonitorDataProfilingConfigPtrOutput {
	return o.ApplyT(func(v *DataQualityMonitor) DataQualityMonitorDataProfilingConfigPtrOutput {
		return v.DataProfilingConfig
	}).(DataQualityMonitorDataProfilingConfigPtrOutput)
}

// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
//
// Find the `schemaId` from either:
// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
//
// Find the `tableId` from either:
// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
func (o DataQualityMonitorOutput) ObjectId() pulumi.StringOutput {
	return o.ApplyT(func(v *DataQualityMonitor) pulumi.StringOutput { return v.ObjectId }).(pulumi.StringOutput)
}

// The type of the monitored object. Can be one of the following: `schema` or `table`
func (o DataQualityMonitorOutput) ObjectType() pulumi.StringOutput {
	return o.ApplyT(func(v *DataQualityMonitor) pulumi.StringOutput { return v.ObjectType }).(pulumi.StringOutput)
}

type DataQualityMonitorArrayOutput struct{ *pulumi.OutputState }

func (DataQualityMonitorArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DataQualityMonitor)(nil)).Elem()
}

func (o DataQualityMonitorArrayOutput) ToDataQualityMonitorArrayOutput() DataQualityMonitorArrayOutput {
	return o
}

func (o DataQualityMonitorArrayOutput) ToDataQualityMonitorArrayOutputWithContext(ctx context.Context) DataQualityMonitorArrayOutput {
	return o
}

func (o DataQualityMonitorArrayOutput) Index(i pulumi.IntInput) DataQualityMonitorOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DataQualityMonitor {
		return vs[0].([]*DataQualityMonitor)[vs[1].(int)]
	}).(DataQualityMonitorOutput)
}

type DataQualityMonitorMapOutput struct{ *pulumi.OutputState }

func (DataQualityMonitorMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DataQualityMonitor)(nil)).Elem()
}

func (o DataQualityMonitorMapOutput) ToDataQualityMonitorMapOutput() DataQualityMonitorMapOutput {
	return o
}

func (o DataQualityMonitorMapOutput) ToDataQualityMonitorMapOutputWithContext(ctx context.Context) DataQualityMonitorMapOutput {
	return o
}

func (o DataQualityMonitorMapOutput) MapIndex(k pulumi.StringInput) DataQualityMonitorOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DataQualityMonitor {
		return vs[0].(map[string]*DataQualityMonitor)[vs[1].(string)]
	}).(DataQualityMonitorOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DataQualityMonitorInput)(nil)).Elem(), &DataQualityMonitor{})
	pulumi.RegisterInputType(reflect.TypeOf((*DataQualityMonitorArrayInput)(nil)).Elem(), DataQualityMonitorArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DataQualityMonitorMapInput)(nil)).Elem(), DataQualityMonitorMap{})
	pulumi.RegisterOutputType(DataQualityMonitorOutput{})
	pulumi.RegisterOutputType(DataQualityMonitorArrayOutput{})
	pulumi.RegisterOutputType(DataQualityMonitorMapOutput{})
}
