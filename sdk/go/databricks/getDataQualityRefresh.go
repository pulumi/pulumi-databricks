// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package databricks

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-databricks/sdk/go/databricks/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// [![Public Beta](https://img.shields.io/badge/Release_Stage-Public_Beta-orange)](https://docs.databricks.com/aws/en/release-notes/release-types)
//
// This data source can be used to fetch a data quality refresh on a Unity Catalog table.
//
// The caller must either:
// 1. be an owner of the table's parent catalog
// 2. have **USE_CATALOG** on the table's parent catalog and be an owner of the table's parent schema.
// 3. have the following permissions:
//   - **USE_CATALOG** on the table's parent catalog
//   - **USE_SCHEMA** on the table's parent schema
//   - **SELECT** privilege on the table.
//
// > **Note** This data source can only be used with a workspace-level provider!
//
// ## Example Usage
//
// Getting a data quality refresh by Unity Catalog object type (currently supports `table`) and object id:
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-databricks/sdk/go/databricks"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			this, err := databricks.LookupTable(ctx, &databricks.LookupTableArgs{
//				Name: "my_catalog.my_schema.my_table",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = databricks.LookupDataQualityRefresh(ctx, &databricks.LookupDataQualityRefreshArgs{
//				ObjectType: "table",
//				ObjectId:   this.Id,
//			}, nil)
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
func LookupDataQualityRefresh(ctx *pulumi.Context, args *LookupDataQualityRefreshArgs, opts ...pulumi.InvokeOption) (*LookupDataQualityRefreshResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupDataQualityRefreshResult
	err := ctx.Invoke("databricks:index/getDataQualityRefresh:getDataQualityRefresh", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getDataQualityRefresh.
type LookupDataQualityRefreshArgs struct {
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId string `pulumi:"objectId"`
	// The type of the monitored object. Can be one of the following: `schema`or `table`
	ObjectType string `pulumi:"objectType"`
	// Unique id of the refresh operation
	RefreshId int `pulumi:"refreshId"`
}

// A collection of values returned by getDataQualityRefresh.
type LookupDataQualityRefreshResult struct {
	// (integer) - Time when the refresh ended (milliseconds since 1/1/1970 UTC)
	EndTimeMs int `pulumi:"endTimeMs"`
	// The provider-assigned unique ID for this managed resource.
	Id string `pulumi:"id"`
	// (string) - An optional message to give insight into the current state of the refresh (e.g. FAILURE messages)
	Message string `pulumi:"message"`
	// (string) - The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	ObjectId string `pulumi:"objectId"`
	// (string) - The type of the monitored object. Can be one of the following: `schema`or `table`
	ObjectType string `pulumi:"objectType"`
	// (integer) - Unique id of the refresh operation
	RefreshId int `pulumi:"refreshId"`
	// (integer) - Time when the refresh started (milliseconds since 1/1/1970 UTC)
	StartTimeMs int `pulumi:"startTimeMs"`
	// (string) - The current state of the refresh. Possible values are: `MONITOR_REFRESH_STATE_CANCELED`, `MONITOR_REFRESH_STATE_FAILED`, `MONITOR_REFRESH_STATE_PENDING`, `MONITOR_REFRESH_STATE_RUNNING`, `MONITOR_REFRESH_STATE_SUCCESS`, `MONITOR_REFRESH_STATE_UNKNOWN`
	State string `pulumi:"state"`
	// (string) - What triggered the refresh. Possible values are: `MONITOR_REFRESH_TRIGGER_DATA_CHANGE`, `MONITOR_REFRESH_TRIGGER_MANUAL`, `MONITOR_REFRESH_TRIGGER_SCHEDULE`, `MONITOR_REFRESH_TRIGGER_UNKNOWN`
	Trigger string `pulumi:"trigger"`
}

func LookupDataQualityRefreshOutput(ctx *pulumi.Context, args LookupDataQualityRefreshOutputArgs, opts ...pulumi.InvokeOption) LookupDataQualityRefreshResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (LookupDataQualityRefreshResultOutput, error) {
			args := v.(LookupDataQualityRefreshArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("databricks:index/getDataQualityRefresh:getDataQualityRefresh", args, LookupDataQualityRefreshResultOutput{}, options).(LookupDataQualityRefreshResultOutput), nil
		}).(LookupDataQualityRefreshResultOutput)
}

// A collection of arguments for invoking getDataQualityRefresh.
type LookupDataQualityRefreshOutputArgs struct {
	// The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
	//
	// Find the `schemaId` from either:
	// 1. The [schemaId](https://docs.databricks.com/api/workspace/schemas/get#schema_id) of the `Schemas` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `schema` > go to the `Details` tab > the `Schema ID` field.
	//
	// Find the `tableId` from either:
	// 1. The [tableId](https://docs.databricks.com/api/workspace/tables/get#table_id) of the `Tables` resource.
	// 2. In [Catalog Explorer](https://docs.databricks.com/aws/en/catalog-explorer/) > select the `table` > go to the `Details` tab > the `Table ID` field
	ObjectId pulumi.StringInput `pulumi:"objectId"`
	// The type of the monitored object. Can be one of the following: `schema`or `table`
	ObjectType pulumi.StringInput `pulumi:"objectType"`
	// Unique id of the refresh operation
	RefreshId pulumi.IntInput `pulumi:"refreshId"`
}

func (LookupDataQualityRefreshOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupDataQualityRefreshArgs)(nil)).Elem()
}

// A collection of values returned by getDataQualityRefresh.
type LookupDataQualityRefreshResultOutput struct{ *pulumi.OutputState }

func (LookupDataQualityRefreshResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupDataQualityRefreshResult)(nil)).Elem()
}

func (o LookupDataQualityRefreshResultOutput) ToLookupDataQualityRefreshResultOutput() LookupDataQualityRefreshResultOutput {
	return o
}

func (o LookupDataQualityRefreshResultOutput) ToLookupDataQualityRefreshResultOutputWithContext(ctx context.Context) LookupDataQualityRefreshResultOutput {
	return o
}

// (integer) - Time when the refresh ended (milliseconds since 1/1/1970 UTC)
func (o LookupDataQualityRefreshResultOutput) EndTimeMs() pulumi.IntOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) int { return v.EndTimeMs }).(pulumi.IntOutput)
}

// The provider-assigned unique ID for this managed resource.
func (o LookupDataQualityRefreshResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) string { return v.Id }).(pulumi.StringOutput)
}

// (string) - An optional message to give insight into the current state of the refresh (e.g. FAILURE messages)
func (o LookupDataQualityRefreshResultOutput) Message() pulumi.StringOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) string { return v.Message }).(pulumi.StringOutput)
}

// (string) - The UUID of the request object. It is `schemaId` for `schema`, and `tableId` for `table`.
func (o LookupDataQualityRefreshResultOutput) ObjectId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) string { return v.ObjectId }).(pulumi.StringOutput)
}

// (string) - The type of the monitored object. Can be one of the following: `schema`or `table`
func (o LookupDataQualityRefreshResultOutput) ObjectType() pulumi.StringOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) string { return v.ObjectType }).(pulumi.StringOutput)
}

// (integer) - Unique id of the refresh operation
func (o LookupDataQualityRefreshResultOutput) RefreshId() pulumi.IntOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) int { return v.RefreshId }).(pulumi.IntOutput)
}

// (integer) - Time when the refresh started (milliseconds since 1/1/1970 UTC)
func (o LookupDataQualityRefreshResultOutput) StartTimeMs() pulumi.IntOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) int { return v.StartTimeMs }).(pulumi.IntOutput)
}

// (string) - The current state of the refresh. Possible values are: `MONITOR_REFRESH_STATE_CANCELED`, `MONITOR_REFRESH_STATE_FAILED`, `MONITOR_REFRESH_STATE_PENDING`, `MONITOR_REFRESH_STATE_RUNNING`, `MONITOR_REFRESH_STATE_SUCCESS`, `MONITOR_REFRESH_STATE_UNKNOWN`
func (o LookupDataQualityRefreshResultOutput) State() pulumi.StringOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) string { return v.State }).(pulumi.StringOutput)
}

// (string) - What triggered the refresh. Possible values are: `MONITOR_REFRESH_TRIGGER_DATA_CHANGE`, `MONITOR_REFRESH_TRIGGER_MANUAL`, `MONITOR_REFRESH_TRIGGER_SCHEDULE`, `MONITOR_REFRESH_TRIGGER_UNKNOWN`
func (o LookupDataQualityRefreshResultOutput) Trigger() pulumi.StringOutput {
	return o.ApplyT(func(v LookupDataQualityRefreshResult) string { return v.Trigger }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupDataQualityRefreshResultOutput{})
}
