// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package databricks

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-databricks/sdk/go/databricks/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// [![Public Beta](https://img.shields.io/badge/Release_Stage-Public_Beta-orange)](https://docs.databricks.com/aws/en/release-notes/release-types)
//
// ## Example Usage
//
// ### Basic Branch Creation
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-databricks/sdk/go/databricks"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			this, err := databricks.NewPostgresProject(ctx, "this", &databricks.PostgresProjectArgs{
//				ProjectId: pulumi.String("my-project"),
//				Spec: &databricks.PostgresProjectSpecArgs{
//					PgVersion:   pulumi.Int(17),
//					DisplayName: pulumi.String("My Project"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = databricks.NewPostgresBranch(ctx, "dev", &databricks.PostgresBranchArgs{
//				BranchId: pulumi.String("dev-branch"),
//				Parent:   this.Name,
//				Spec: &databricks.PostgresBranchSpecArgs{
//					NoExpiry: pulumi.Bool(true),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Protected Branch
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-databricks/sdk/go/databricks"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := databricks.NewPostgresBranch(ctx, "production", &databricks.PostgresBranchArgs{
//				BranchId: pulumi.String("production"),
//				Parent:   pulumi.Any(this.Name),
//				Spec: &databricks.PostgresBranchSpecArgs{
//					IsProtected: pulumi.Bool(true),
//					NoExpiry:    pulumi.Bool(true),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Branch with Expiration (TTL)
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-databricks/sdk/go/databricks"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := databricks.NewPostgresBranch(ctx, "temporary", &databricks.PostgresBranchArgs{
//				BranchId: pulumi.String("temp-feature-test"),
//				Parent:   pulumi.Any(this.Name),
//				Spec: &databricks.PostgresBranchSpecArgs{
//					Ttl: pulumi.String("604800s"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type PostgresBranch struct {
	pulumi.CustomResourceState

	// The ID to use for the Branch. This becomes the final component of the branch's resource name.
	// The ID is required and must be 1-63 characters long, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.
	// For example, `development` becomes `projects/my-app/branches/development`
	BranchId pulumi.StringOutput `pulumi:"branchId"`
	// (string) - A timestamp indicating when the branch was created
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// (string) - Output only. The full resource path of the branch.
	// Format: projects/{project_id}/branches/{branch_id}
	Name pulumi.StringOutput `pulumi:"name"`
	// The project containing this branch (API resource hierarchy).
	// Format: projects/{project_id}
	//
	// Note: This field indicates where the branch exists in the resource hierarchy.
	// For point-in-time branching from another branch, see `status.source_branch`
	Parent pulumi.StringOutput `pulumi:"parent"`
	// Configure the provider for management through account provider.
	ProviderConfig PostgresBranchProviderConfigPtrOutput `pulumi:"providerConfig"`
	// The spec contains the branch configuration
	Spec PostgresBranchSpecOutput `pulumi:"spec"`
	// (BranchStatus) - The current status of a Branch
	Status PostgresBranchStatusOutput `pulumi:"status"`
	// (string) - System-generated unique ID for the branch
	Uid pulumi.StringOutput `pulumi:"uid"`
	// (string) - A timestamp indicating when the branch was last updated
	UpdateTime pulumi.StringOutput `pulumi:"updateTime"`
}

// NewPostgresBranch registers a new resource with the given unique name, arguments, and options.
func NewPostgresBranch(ctx *pulumi.Context,
	name string, args *PostgresBranchArgs, opts ...pulumi.ResourceOption) (*PostgresBranch, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.BranchId == nil {
		return nil, errors.New("invalid value for required argument 'BranchId'")
	}
	if args.Parent == nil {
		return nil, errors.New("invalid value for required argument 'Parent'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource PostgresBranch
	err := ctx.RegisterResource("databricks:index/postgresBranch:PostgresBranch", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetPostgresBranch gets an existing PostgresBranch resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetPostgresBranch(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *PostgresBranchState, opts ...pulumi.ResourceOption) (*PostgresBranch, error) {
	var resource PostgresBranch
	err := ctx.ReadResource("databricks:index/postgresBranch:PostgresBranch", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering PostgresBranch resources.
type postgresBranchState struct {
	// The ID to use for the Branch. This becomes the final component of the branch's resource name.
	// The ID is required and must be 1-63 characters long, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.
	// For example, `development` becomes `projects/my-app/branches/development`
	BranchId *string `pulumi:"branchId"`
	// (string) - A timestamp indicating when the branch was created
	CreateTime *string `pulumi:"createTime"`
	// (string) - Output only. The full resource path of the branch.
	// Format: projects/{project_id}/branches/{branch_id}
	Name *string `pulumi:"name"`
	// The project containing this branch (API resource hierarchy).
	// Format: projects/{project_id}
	//
	// Note: This field indicates where the branch exists in the resource hierarchy.
	// For point-in-time branching from another branch, see `status.source_branch`
	Parent *string `pulumi:"parent"`
	// Configure the provider for management through account provider.
	ProviderConfig *PostgresBranchProviderConfig `pulumi:"providerConfig"`
	// The spec contains the branch configuration
	Spec *PostgresBranchSpec `pulumi:"spec"`
	// (BranchStatus) - The current status of a Branch
	Status *PostgresBranchStatus `pulumi:"status"`
	// (string) - System-generated unique ID for the branch
	Uid *string `pulumi:"uid"`
	// (string) - A timestamp indicating when the branch was last updated
	UpdateTime *string `pulumi:"updateTime"`
}

type PostgresBranchState struct {
	// The ID to use for the Branch. This becomes the final component of the branch's resource name.
	// The ID is required and must be 1-63 characters long, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.
	// For example, `development` becomes `projects/my-app/branches/development`
	BranchId pulumi.StringPtrInput
	// (string) - A timestamp indicating when the branch was created
	CreateTime pulumi.StringPtrInput
	// (string) - Output only. The full resource path of the branch.
	// Format: projects/{project_id}/branches/{branch_id}
	Name pulumi.StringPtrInput
	// The project containing this branch (API resource hierarchy).
	// Format: projects/{project_id}
	//
	// Note: This field indicates where the branch exists in the resource hierarchy.
	// For point-in-time branching from another branch, see `status.source_branch`
	Parent pulumi.StringPtrInput
	// Configure the provider for management through account provider.
	ProviderConfig PostgresBranchProviderConfigPtrInput
	// The spec contains the branch configuration
	Spec PostgresBranchSpecPtrInput
	// (BranchStatus) - The current status of a Branch
	Status PostgresBranchStatusPtrInput
	// (string) - System-generated unique ID for the branch
	Uid pulumi.StringPtrInput
	// (string) - A timestamp indicating when the branch was last updated
	UpdateTime pulumi.StringPtrInput
}

func (PostgresBranchState) ElementType() reflect.Type {
	return reflect.TypeOf((*postgresBranchState)(nil)).Elem()
}

type postgresBranchArgs struct {
	// The ID to use for the Branch. This becomes the final component of the branch's resource name.
	// The ID is required and must be 1-63 characters long, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.
	// For example, `development` becomes `projects/my-app/branches/development`
	BranchId string `pulumi:"branchId"`
	// The project containing this branch (API resource hierarchy).
	// Format: projects/{project_id}
	//
	// Note: This field indicates where the branch exists in the resource hierarchy.
	// For point-in-time branching from another branch, see `status.source_branch`
	Parent string `pulumi:"parent"`
	// Configure the provider for management through account provider.
	ProviderConfig *PostgresBranchProviderConfig `pulumi:"providerConfig"`
	// The spec contains the branch configuration
	Spec *PostgresBranchSpec `pulumi:"spec"`
}

// The set of arguments for constructing a PostgresBranch resource.
type PostgresBranchArgs struct {
	// The ID to use for the Branch. This becomes the final component of the branch's resource name.
	// The ID is required and must be 1-63 characters long, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.
	// For example, `development` becomes `projects/my-app/branches/development`
	BranchId pulumi.StringInput
	// The project containing this branch (API resource hierarchy).
	// Format: projects/{project_id}
	//
	// Note: This field indicates where the branch exists in the resource hierarchy.
	// For point-in-time branching from another branch, see `status.source_branch`
	Parent pulumi.StringInput
	// Configure the provider for management through account provider.
	ProviderConfig PostgresBranchProviderConfigPtrInput
	// The spec contains the branch configuration
	Spec PostgresBranchSpecPtrInput
}

func (PostgresBranchArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*postgresBranchArgs)(nil)).Elem()
}

type PostgresBranchInput interface {
	pulumi.Input

	ToPostgresBranchOutput() PostgresBranchOutput
	ToPostgresBranchOutputWithContext(ctx context.Context) PostgresBranchOutput
}

func (*PostgresBranch) ElementType() reflect.Type {
	return reflect.TypeOf((**PostgresBranch)(nil)).Elem()
}

func (i *PostgresBranch) ToPostgresBranchOutput() PostgresBranchOutput {
	return i.ToPostgresBranchOutputWithContext(context.Background())
}

func (i *PostgresBranch) ToPostgresBranchOutputWithContext(ctx context.Context) PostgresBranchOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PostgresBranchOutput)
}

// PostgresBranchArrayInput is an input type that accepts PostgresBranchArray and PostgresBranchArrayOutput values.
// You can construct a concrete instance of `PostgresBranchArrayInput` via:
//
//	PostgresBranchArray{ PostgresBranchArgs{...} }
type PostgresBranchArrayInput interface {
	pulumi.Input

	ToPostgresBranchArrayOutput() PostgresBranchArrayOutput
	ToPostgresBranchArrayOutputWithContext(context.Context) PostgresBranchArrayOutput
}

type PostgresBranchArray []PostgresBranchInput

func (PostgresBranchArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*PostgresBranch)(nil)).Elem()
}

func (i PostgresBranchArray) ToPostgresBranchArrayOutput() PostgresBranchArrayOutput {
	return i.ToPostgresBranchArrayOutputWithContext(context.Background())
}

func (i PostgresBranchArray) ToPostgresBranchArrayOutputWithContext(ctx context.Context) PostgresBranchArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PostgresBranchArrayOutput)
}

// PostgresBranchMapInput is an input type that accepts PostgresBranchMap and PostgresBranchMapOutput values.
// You can construct a concrete instance of `PostgresBranchMapInput` via:
//
//	PostgresBranchMap{ "key": PostgresBranchArgs{...} }
type PostgresBranchMapInput interface {
	pulumi.Input

	ToPostgresBranchMapOutput() PostgresBranchMapOutput
	ToPostgresBranchMapOutputWithContext(context.Context) PostgresBranchMapOutput
}

type PostgresBranchMap map[string]PostgresBranchInput

func (PostgresBranchMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*PostgresBranch)(nil)).Elem()
}

func (i PostgresBranchMap) ToPostgresBranchMapOutput() PostgresBranchMapOutput {
	return i.ToPostgresBranchMapOutputWithContext(context.Background())
}

func (i PostgresBranchMap) ToPostgresBranchMapOutputWithContext(ctx context.Context) PostgresBranchMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PostgresBranchMapOutput)
}

type PostgresBranchOutput struct{ *pulumi.OutputState }

func (PostgresBranchOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**PostgresBranch)(nil)).Elem()
}

func (o PostgresBranchOutput) ToPostgresBranchOutput() PostgresBranchOutput {
	return o
}

func (o PostgresBranchOutput) ToPostgresBranchOutputWithContext(ctx context.Context) PostgresBranchOutput {
	return o
}

// The ID to use for the Branch. This becomes the final component of the branch's resource name.
// The ID is required and must be 1-63 characters long, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.
// For example, `development` becomes `projects/my-app/branches/development`
func (o PostgresBranchOutput) BranchId() pulumi.StringOutput {
	return o.ApplyT(func(v *PostgresBranch) pulumi.StringOutput { return v.BranchId }).(pulumi.StringOutput)
}

// (string) - A timestamp indicating when the branch was created
func (o PostgresBranchOutput) CreateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *PostgresBranch) pulumi.StringOutput { return v.CreateTime }).(pulumi.StringOutput)
}

// (string) - Output only. The full resource path of the branch.
// Format: projects/{project_id}/branches/{branch_id}
func (o PostgresBranchOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *PostgresBranch) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The project containing this branch (API resource hierarchy).
// Format: projects/{project_id}
//
// Note: This field indicates where the branch exists in the resource hierarchy.
// For point-in-time branching from another branch, see `status.source_branch`
func (o PostgresBranchOutput) Parent() pulumi.StringOutput {
	return o.ApplyT(func(v *PostgresBranch) pulumi.StringOutput { return v.Parent }).(pulumi.StringOutput)
}

// Configure the provider for management through account provider.
func (o PostgresBranchOutput) ProviderConfig() PostgresBranchProviderConfigPtrOutput {
	return o.ApplyT(func(v *PostgresBranch) PostgresBranchProviderConfigPtrOutput { return v.ProviderConfig }).(PostgresBranchProviderConfigPtrOutput)
}

// The spec contains the branch configuration
func (o PostgresBranchOutput) Spec() PostgresBranchSpecOutput {
	return o.ApplyT(func(v *PostgresBranch) PostgresBranchSpecOutput { return v.Spec }).(PostgresBranchSpecOutput)
}

// (BranchStatus) - The current status of a Branch
func (o PostgresBranchOutput) Status() PostgresBranchStatusOutput {
	return o.ApplyT(func(v *PostgresBranch) PostgresBranchStatusOutput { return v.Status }).(PostgresBranchStatusOutput)
}

// (string) - System-generated unique ID for the branch
func (o PostgresBranchOutput) Uid() pulumi.StringOutput {
	return o.ApplyT(func(v *PostgresBranch) pulumi.StringOutput { return v.Uid }).(pulumi.StringOutput)
}

// (string) - A timestamp indicating when the branch was last updated
func (o PostgresBranchOutput) UpdateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *PostgresBranch) pulumi.StringOutput { return v.UpdateTime }).(pulumi.StringOutput)
}

type PostgresBranchArrayOutput struct{ *pulumi.OutputState }

func (PostgresBranchArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*PostgresBranch)(nil)).Elem()
}

func (o PostgresBranchArrayOutput) ToPostgresBranchArrayOutput() PostgresBranchArrayOutput {
	return o
}

func (o PostgresBranchArrayOutput) ToPostgresBranchArrayOutputWithContext(ctx context.Context) PostgresBranchArrayOutput {
	return o
}

func (o PostgresBranchArrayOutput) Index(i pulumi.IntInput) PostgresBranchOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *PostgresBranch {
		return vs[0].([]*PostgresBranch)[vs[1].(int)]
	}).(PostgresBranchOutput)
}

type PostgresBranchMapOutput struct{ *pulumi.OutputState }

func (PostgresBranchMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*PostgresBranch)(nil)).Elem()
}

func (o PostgresBranchMapOutput) ToPostgresBranchMapOutput() PostgresBranchMapOutput {
	return o
}

func (o PostgresBranchMapOutput) ToPostgresBranchMapOutputWithContext(ctx context.Context) PostgresBranchMapOutput {
	return o
}

func (o PostgresBranchMapOutput) MapIndex(k pulumi.StringInput) PostgresBranchOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *PostgresBranch {
		return vs[0].(map[string]*PostgresBranch)[vs[1].(string)]
	}).(PostgresBranchOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*PostgresBranchInput)(nil)).Elem(), &PostgresBranch{})
	pulumi.RegisterInputType(reflect.TypeOf((*PostgresBranchArrayInput)(nil)).Elem(), PostgresBranchArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*PostgresBranchMapInput)(nil)).Elem(), PostgresBranchMap{})
	pulumi.RegisterOutputType(PostgresBranchOutput{})
	pulumi.RegisterOutputType(PostgresBranchArrayOutput{})
	pulumi.RegisterOutputType(PostgresBranchMapOutput{})
}
