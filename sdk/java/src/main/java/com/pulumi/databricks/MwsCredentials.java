// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.databricks;

import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import com.pulumi.databricks.MwsCredentialsArgs;
import com.pulumi.databricks.Utilities;
import com.pulumi.databricks.inputs.MwsCredentialsState;
import java.lang.Integer;
import java.lang.String;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * This resource to configure the cross-account role for creation of new workspaces within AWS.
 * 
 * &gt; This resource can only be used with an account-level provider!
 * 
 * Please follow this complete runnable example with new VPC and new workspace setup. Please pay special attention to the fact that there you have two different instances of a databricks provider - one for deploying workspaces (with `host=&#34;https://accounts.cloud.databricks.com/&#34;`) and another for the workspace you&#39;ve created with `databricks.MwsWorkspaces` resource. If you want both creation of workspaces &amp; clusters within workspace within the same terraform module (essentially same directory), you should use the provider aliasing feature of Pulumi. We strongly recommend having one terraform module for creation of workspace + PAT token and the rest in different modules.
 * 
 * ## Example Usage
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.databricks.DatabricksFunctions;
 * import com.pulumi.databricks.inputs.GetAwsAssumeRolePolicyArgs;
 * import com.pulumi.aws.IamRole;
 * import com.pulumi.aws.IamRoleArgs;
 * import com.pulumi.databricks.inputs.GetAwsCrossAccountPolicyArgs;
 * import com.pulumi.aws.IamRolePolicy;
 * import com.pulumi.aws.IamRolePolicyArgs;
 * import com.pulumi.databricks.MwsCredentials;
 * import com.pulumi.databricks.MwsCredentialsArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         final var config = ctx.config();
 *         final var databricksAccountId = config.get("databricksAccountId");
 *         final var prefix = config.get("prefix");
 *         final var this = DatabricksFunctions.getAwsAssumeRolePolicy(GetAwsAssumeRolePolicyArgs.builder()
 *             .externalId(databricksAccountId)
 *             .build());
 * 
 *         var crossAccountRole = new IamRole("crossAccountRole", IamRoleArgs.builder()
 *             .name(String.format("%s-crossaccount", prefix))
 *             .assumeRolePolicy(this_.json())
 *             .tags(tags)
 *             .build());
 * 
 *         final var thisGetAwsCrossAccountPolicy = DatabricksFunctions.getAwsCrossAccountPolicy(GetAwsCrossAccountPolicyArgs.builder()
 *             .build());
 * 
 *         var thisIamRolePolicy = new IamRolePolicy("thisIamRolePolicy", IamRolePolicyArgs.builder()
 *             .name(String.format("%s-policy", prefix))
 *             .role(crossAccountRole.id())
 *             .policy(thisGetAwsCrossAccountPolicy.json())
 *             .build());
 * 
 *         var thisMwsCredentials = new MwsCredentials("thisMwsCredentials", MwsCredentialsArgs.builder()
 *             .credentialsName(String.format("%s-creds", prefix))
 *             .roleArn(crossAccountRole.arn())
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * ## Related Resources
 * 
 * The following resources are used in the same context:
 * 
 * * Provisioning Databricks on AWS guide.
 * * databricks.MwsCustomerManagedKeys to configure KMS keys for new workspaces within AWS.
 * * databricks.MwsLogDelivery to configure delivery of [billable usage logs](https://docs.databricks.com/administration-guide/account-settings/billable-usage-delivery.html) and [audit logs](https://docs.databricks.com/administration-guide/account-settings/audit-logs.html).
 * * databricks.MwsNetworks to [configure VPC](https://docs.databricks.com/administration-guide/cloud-configurations/aws/customer-managed-vpc.html) &amp; subnets for new workspaces within AWS.
 * * databricks.MwsStorageConfigurations to configure root bucket new workspaces within AWS.
 * * databricks.MwsWorkspaces to set up [AWS and GCP workspaces](https://docs.databricks.com/getting-started/overview.html#e2-architecture-1).
 * 
 */
@ResourceType(type="databricks:index/mwsCredentials:MwsCredentials")
public class MwsCredentials extends com.pulumi.resources.CustomResource {
    /**
     * **(Deprecated)** Maintained for backwards compatibility and will be removed in a later version. It should now be specified under a provider instance where `host = &#34;https://accounts.cloud.databricks.com&#34;`
     * 
     * @deprecated
     * `accountId` should be set as part of the Databricks Config, not in the resource.
     * 
     */
    @Deprecated /* `accountId` should be set as part of the Databricks Config, not in the resource. */
    @Export(name="accountId", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> accountId;

    /**
     * @return **(Deprecated)** Maintained for backwards compatibility and will be removed in a later version. It should now be specified under a provider instance where `host = &#34;https://accounts.cloud.databricks.com&#34;`
     * 
     */
    public Output<Optional<String>> accountId() {
        return Codegen.optional(this.accountId);
    }
    /**
     * (Integer) time of credentials registration
     * 
     */
    @Export(name="creationTime", refs={Integer.class}, tree="[0]")
    private Output<Integer> creationTime;

    /**
     * @return (Integer) time of credentials registration
     * 
     */
    public Output<Integer> creationTime() {
        return this.creationTime;
    }
    /**
     * (String) identifier of credentials
     * 
     */
    @Export(name="credentialsId", refs={String.class}, tree="[0]")
    private Output<String> credentialsId;

    /**
     * @return (String) identifier of credentials
     * 
     */
    public Output<String> credentialsId() {
        return this.credentialsId;
    }
    /**
     * name of credentials to register
     * 
     */
    @Export(name="credentialsName", refs={String.class}, tree="[0]")
    private Output<String> credentialsName;

    /**
     * @return name of credentials to register
     * 
     */
    public Output<String> credentialsName() {
        return this.credentialsName;
    }
    @Export(name="externalId", refs={String.class}, tree="[0]")
    private Output<String> externalId;

    public Output<String> externalId() {
        return this.externalId;
    }
    /**
     * ARN of cross-account role
     * 
     */
    @Export(name="roleArn", refs={String.class}, tree="[0]")
    private Output<String> roleArn;

    /**
     * @return ARN of cross-account role
     * 
     */
    public Output<String> roleArn() {
        return this.roleArn;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public MwsCredentials(java.lang.String name) {
        this(name, MwsCredentialsArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public MwsCredentials(java.lang.String name, MwsCredentialsArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public MwsCredentials(java.lang.String name, MwsCredentialsArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("databricks:index/mwsCredentials:MwsCredentials", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private MwsCredentials(java.lang.String name, Output<java.lang.String> id, @Nullable MwsCredentialsState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("databricks:index/mwsCredentials:MwsCredentials", name, state, makeResourceOptions(options, id), false);
    }

    private static MwsCredentialsArgs makeArgs(MwsCredentialsArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? MwsCredentialsArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static MwsCredentials get(java.lang.String name, Output<java.lang.String> id, @Nullable MwsCredentialsState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new MwsCredentials(name, id, state, options);
    }
}
