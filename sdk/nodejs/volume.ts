// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

/**
 * Volumes are Unity Catalog objects representing a logical volume of storage in a cloud object storage location. Volumes provide capabilities for accessing, storing, governing, and organizing files. While tables provide governance over tabular datasets, volumes add governance over non-tabular datasets. You can use volumes to store and access files in any format, including structured, semi-structured, and unstructured data.
 *
 * > This resource can only be used with a workspace-level provider!
 *
 * A volume resides in the third layer of Unity Catalog's three-level namespace. Volumes are siblings to tables, views, and other objects organized under a schema in Unity Catalog.
 *
 * A volume can be **managed** or **external**.
 *
 * A **managed volume** is a Unity Catalog-governed storage volume created within the default storage location of the containing schema. Managed volumes allow the creation of governed storage for working with files without the overhead of external locations and storage credentials. You do not need to specify a location when creating a managed volume, and all file access for data in managed volumes is through paths managed by Unity Catalog.
 *
 * An **external volume** is a Unity Catalog-governed storage volume registered against a directory within an external location.
 *
 * A volume can be referenced using its identifier: ```<catalogName>.<schemaName>.<volumeName>```, where:
 *
 * * ```<catalogName>```: The name of the catalog containing the Volume.
 * * ```<schemaName>```: The name of the schema containing the Volume.
 * * ```<volumeName>```: The name of the Volume. It identifies the volume object.
 *
 * The path to access files in volumes uses the following format:
 *
 * ```/Volumes/<catalog>/<schema>/<volume>/<path>/<file_name>```
 *
 * Databricks also supports an optional ```dbfs:/``` scheme, so the following path also works:
 *
 * ```dbfs:/Volumes/<catalog>/<schema>/<volume>/<path>/<file_name>```
 *
 * This resource manages Volumes in Unity Catalog.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as databricks from "@pulumi/databricks";
 *
 * const sandbox = new databricks.Catalog("sandbox", {
 *     name: "sandbox",
 *     comment: "this catalog is managed by terraform",
 *     properties: {
 *         purpose: "testing",
 *     },
 * });
 * const things = new databricks.Schema("things", {
 *     catalogName: sandbox.name,
 *     name: "things",
 *     comment: "this schema is managed by terraform",
 *     properties: {
 *         kind: "various",
 *     },
 * });
 * const external = new databricks.StorageCredential("external", {
 *     name: "creds",
 *     awsIamRole: {
 *         roleArn: externalDataAccess.arn,
 *     },
 * });
 * const some = new databricks.ExternalLocation("some", {
 *     name: "external_location",
 *     url: `s3://${externalAwsS3Bucket.id}/some`,
 *     credentialName: external.name,
 * });
 * const _this = new databricks.Volume("this", {
 *     name: "quickstart_volume",
 *     catalogName: sandbox.name,
 *     schemaName: things.name,
 *     volumeType: "EXTERNAL",
 *     storageLocation: some.url,
 *     comment: "this volume is managed by terraform",
 * });
 * ```
 */
export class Volume extends pulumi.CustomResource {
    /**
     * Get an existing Volume resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: VolumeState, opts?: pulumi.CustomResourceOptions): Volume {
        return new Volume(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'databricks:index/volume:Volume';

    /**
     * Returns true if the given object is an instance of Volume.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Volume {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Volume.__pulumiType;
    }

    /**
     * Name of parent Catalog. Change forces creation of a new resource.
     */
    declare public readonly catalogName: pulumi.Output<string>;
    /**
     * Free-form text.
     */
    declare public readonly comment: pulumi.Output<string | undefined>;
    /**
     * Name of the Volume
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * Name of the volume owner.
     */
    declare public readonly owner: pulumi.Output<string>;
    /**
     * Configure the provider for management through account provider. This block consists of the following fields:
     */
    declare public readonly providerConfig: pulumi.Output<outputs.VolumeProviderConfig | undefined>;
    /**
     * Name of parent Schema relative to parent Catalog. Change forces creation of a new resource.
     */
    declare public readonly schemaName: pulumi.Output<string>;
    /**
     * URL for the volume (should be inside of an existing External Location). Only used for `EXTERNAL` Volumes.  If the URL contains special characters, such as space, `&`, etc., they should be percent-encoded (space > `%20`, etc.). Change forces creation of a new resource.
     */
    declare public readonly storageLocation: pulumi.Output<string | undefined>;
    /**
     * base file path for this Unity Catalog Volume in form of `/Volumes/<catalog>/<schema>/<name>`.
     */
    declare public /*out*/ readonly volumePath: pulumi.Output<string>;
    /**
     * Volume type. `EXTERNAL` or `MANAGED`. Change forces creation of a new resource.
     */
    declare public readonly volumeType: pulumi.Output<string>;

    /**
     * Create a Volume resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: VolumeArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: VolumeArgs | VolumeState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as VolumeState | undefined;
            resourceInputs["catalogName"] = state?.catalogName;
            resourceInputs["comment"] = state?.comment;
            resourceInputs["name"] = state?.name;
            resourceInputs["owner"] = state?.owner;
            resourceInputs["providerConfig"] = state?.providerConfig;
            resourceInputs["schemaName"] = state?.schemaName;
            resourceInputs["storageLocation"] = state?.storageLocation;
            resourceInputs["volumePath"] = state?.volumePath;
            resourceInputs["volumeType"] = state?.volumeType;
        } else {
            const args = argsOrState as VolumeArgs | undefined;
            if (args?.catalogName === undefined && !opts.urn) {
                throw new Error("Missing required property 'catalogName'");
            }
            if (args?.schemaName === undefined && !opts.urn) {
                throw new Error("Missing required property 'schemaName'");
            }
            if (args?.volumeType === undefined && !opts.urn) {
                throw new Error("Missing required property 'volumeType'");
            }
            resourceInputs["catalogName"] = args?.catalogName;
            resourceInputs["comment"] = args?.comment;
            resourceInputs["name"] = args?.name;
            resourceInputs["owner"] = args?.owner;
            resourceInputs["providerConfig"] = args?.providerConfig;
            resourceInputs["schemaName"] = args?.schemaName;
            resourceInputs["storageLocation"] = args?.storageLocation;
            resourceInputs["volumeType"] = args?.volumeType;
            resourceInputs["volumePath"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(Volume.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Volume resources.
 */
export interface VolumeState {
    /**
     * Name of parent Catalog. Change forces creation of a new resource.
     */
    catalogName?: pulumi.Input<string>;
    /**
     * Free-form text.
     */
    comment?: pulumi.Input<string>;
    /**
     * Name of the Volume
     */
    name?: pulumi.Input<string>;
    /**
     * Name of the volume owner.
     */
    owner?: pulumi.Input<string>;
    /**
     * Configure the provider for management through account provider. This block consists of the following fields:
     */
    providerConfig?: pulumi.Input<inputs.VolumeProviderConfig>;
    /**
     * Name of parent Schema relative to parent Catalog. Change forces creation of a new resource.
     */
    schemaName?: pulumi.Input<string>;
    /**
     * URL for the volume (should be inside of an existing External Location). Only used for `EXTERNAL` Volumes.  If the URL contains special characters, such as space, `&`, etc., they should be percent-encoded (space > `%20`, etc.). Change forces creation of a new resource.
     */
    storageLocation?: pulumi.Input<string>;
    /**
     * base file path for this Unity Catalog Volume in form of `/Volumes/<catalog>/<schema>/<name>`.
     */
    volumePath?: pulumi.Input<string>;
    /**
     * Volume type. `EXTERNAL` or `MANAGED`. Change forces creation of a new resource.
     */
    volumeType?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Volume resource.
 */
export interface VolumeArgs {
    /**
     * Name of parent Catalog. Change forces creation of a new resource.
     */
    catalogName: pulumi.Input<string>;
    /**
     * Free-form text.
     */
    comment?: pulumi.Input<string>;
    /**
     * Name of the Volume
     */
    name?: pulumi.Input<string>;
    /**
     * Name of the volume owner.
     */
    owner?: pulumi.Input<string>;
    /**
     * Configure the provider for management through account provider. This block consists of the following fields:
     */
    providerConfig?: pulumi.Input<inputs.VolumeProviderConfig>;
    /**
     * Name of parent Schema relative to parent Catalog. Change forces creation of a new resource.
     */
    schemaName: pulumi.Input<string>;
    /**
     * URL for the volume (should be inside of an existing External Location). Only used for `EXTERNAL` Volumes.  If the URL contains special characters, such as space, `&`, etc., they should be percent-encoded (space > `%20`, etc.). Change forces creation of a new resource.
     */
    storageLocation?: pulumi.Input<string>;
    /**
     * Volume type. `EXTERNAL` or `MANAGED`. Change forces creation of a new resource.
     */
    volumeType: pulumi.Input<string>;
}
